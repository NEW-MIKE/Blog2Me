<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="890px" preserveAspectRatio="none" style="width:930px;height:890px;background:#FFFFFF;" version="1.1" viewBox="0 0 930 890" width="930px" zoomAndPan="magnify"><defs><filter height="300%" id="f13w01ae9m97r0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="126" x="395.5" y="20.6279">域名解析流程图</text><!--MD5=[a30d4cc3317a8d5c880cf8cda0de78e5]
cluster UserClient--><rect fill="#FEFECE" filter="url(#f13w01ae9m97r0)" height="651" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="513" x="7" y="31.583"/><rect fill="#FFFFFF" height="615.8799" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="507" x="10" y="63.7031"/><line style="stroke:#808080;stroke-width:1.5;" x1="7" x2="520" y1="60.7031" y2="60.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="231" y="51.627">UserClient</text><!--MD5=[c6fb1c51633e985e3a91275913274e51]
cluster DNSServer--><rect fill="#FEFECE" filter="url(#f13w01ae9m97r0)" height="474" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="374" x="544" y="404.583"/><rect fill="#FFFFFF" height="438.8799" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:1.0;" width="368" x="547" y="436.7031"/><line style="stroke:#808080;stroke-width:1.5;" x1="544" x2="918" y1="433.7031" y2="433.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="696" y="424.627">DNSServer</text><ellipse cx="228" cy="79.583" fill="#0000CD" filter="url(#f13w01ae9m97r0)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="UserClient.请求访问域名"><rect fill="#F0F8FF" filter="url(#f13w01ae9m97r0)" height="55.5088" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="104" x="176" y="150.583"/><line style="stroke:#808080;stroke-width:1.5;" x1="176" x2="280" y1="179.7031" y2="179.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="186" y="171.627">请求访问域名</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="181" y="198.4551">ephen.me.</text></g><g id="UserClient.本机host"><rect fill="#FEFECE" filter="url(#f13w01ae9m97r0)" height="71.8975" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="191" x="132.5" y="267.583"/><line style="stroke:#808080;stroke-width:1.5;" x1="132.5" x2="323.5" y1="296.7031" y2="296.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="200.5" y="288.627">本机host</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="137.5" y="315.4551">Windows 目录：</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="171" x="137.5" y="331.8438">C:WindowsSystem32driversetc</text></g><g id="UserClient.成功访问域名"><rect fill="#FF69B4" filter="url(#f13w01ae9m97r0)" height="55.5088" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="104" x="399" y="275.583"/><line style="stroke:#808080;stroke-width:1.5;" x1="399" x2="503" y1="304.7031" y2="304.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="409" y="296.627">成功访问域名</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="404" y="323.4551">ephen.me.</text></g><g id="UserClient.本机DNS解析器"><rect fill="#FEFECE" filter="url(#f13w01ae9m97r0)" height="71.8975" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="134" x="338" y="459.083"/><line style="stroke:#808080;stroke-width:1.5;" x1="338" x2="472" y1="488.2031" y2="488.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="356" y="480.127">本机DNS解析器</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="343" y="506.9551">Windows 查看命令：</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="343" y="523.3438">ipconfig /displaydns</text></g><ellipse cx="494" cy="652.583" filter="url(#f13w01ae9m97r0)" rx="10" ry="10" style="stroke:#FF0000;stroke-width:1.0;fill:none;"/><ellipse cx="494.5" cy="653.083" fill="#FF0000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><path d="M23.5,638.583 L23.5,666.3374 A0,0 0 0 0 23.5,666.3374 L448.5,666.3374 A0,0 0 0 0 448.5,666.3374 L448.5,656.583 L483.73,652.583 L448.5,648.583 L448.5,648.583 L438.5,638.583 L23.5,638.583 A0,0 0 0 0 23.5,638.583 " fill="#FBFB77" filter="url(#f13w01ae9m97r0)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M438.5,638.583 L438.5,648.583 L448.5,648.583 L438.5,638.583 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="29.5" y="658.481">本图展示正常解析流程n未成功访问域名不能结束n（最左支路径无效）</text><g id="DNSServer.本地DNS"><rect fill="#FEFECE" filter="url(#f13w01ae9m97r0)" height="55.5088" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="129" x="560.5" y="467.083"/><line style="stroke:#808080;stroke-width:1.5;" x1="560.5" x2="689.5" y1="496.2031" y2="496.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="597" y="488.127">本地DNS</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="565.5" y="514.9551">用户配置（8.8.8.8）</text></g><g id="DNSServer.根域名服务器"><rect fill="#FEFECE" filter="url(#f13w01ae9m97r0)" height="104.6748" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="123" x="778.5" y="442.583"/><line style="stroke:#808080;stroke-width:1.5;" x1="778.5" x2="901.5" y1="471.7031" y2="471.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="798" y="463.627">根域名服务器</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="99" x="783.5" y="490.4551">a.root-servers.net.</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="99" x="783.5" y="506.8438">b.root-servers.net.</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="9" x="783.5" y="523.2324">...</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="103" x="783.5" y="539.6211">m.root-servers.net.</text></g><g id="DNSServer.顶级域名服务器"><rect fill="#FEFECE" filter="url(#f13w01ae9m97r0)" height="88.2861" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="118" x="770" y="608.583"/><line style="stroke:#808080;stroke-width:1.5;" x1="770" x2="888" y1="637.7031" y2="637.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="780" y="629.627">顶级域名服务器</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="57" x="775" y="656.4551">a0.nic.me.</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="57" x="775" y="672.8438">b0.nic.me.</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="9" x="775" y="689.2324">...</text></g><g id="DNSServer.域名服务器"><rect fill="#FEFECE" filter="url(#f13w01ae9m97r0)" height="104.6748" rx="12.5" ry="12.5" style="stroke:#808080;stroke-width:1.5;" width="109" x="625.5" y="757.583"/><line style="stroke:#808080;stroke-width:1.5;" x1="625.5" x2="734.5" y1="786.7031" y2="786.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="645" y="778.627">域名服务器</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="630.5" y="805.4551">lv3ns1.ffdns.net.</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="630.5" y="821.8438">lv3ns2.ffdns.net.</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="630.5" y="838.2324">lv3ns3.ffdns.net.</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="630.5" y="854.6211">lv3ns4.ffdns.net.</text></g><!--MD5=[081046351beebbd340c42917b82c86e9]
link *start*UserClient to 请求访问域名--><path d="M228,89.883 C228,102.453 228,125.513 228,144.833 " fill="none" id="*start*UserClient-to-请求访问域名" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="228,150.173,232,141.173,228,145.173,224,141.173,228,150.173" style="stroke:#808080;stroke-width:1.0;"/><!--MD5=[f4615b823ced509833fc5c3ad5952f2a]
link 请求访问域名 to 本机host--><path d="M228,206.883 C228,223.183 228,244.183 228,262.363 " fill="none" id="请求访问域名-to-本机host" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="228,267.413,232,258.413,228,262.413,224,258.413,228,267.413" style="stroke:#808080;stroke-width:1.0;"/><!--MD5=[543a40ffaae28b91e5111091ebf8f5dd]
link 本机host to 成功访问域名--><path d="M323.54,303.583 C347.51,303.583 372.48,303.583 393.9,303.583 " fill="none" id="本机host-to-成功访问域名" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="398.99,303.583,389.99,299.583,393.99,303.583,389.99,307.583,398.99,303.583" style="stroke:#808080;stroke-width:1.0;"/><text fill="#4B0082" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="341.75" y="297.481">有映射</text><!--MD5=[aaeb0a3d82a1f41adcf3388c6bbeb0ed]
link 本机host to 本机DNS解析器--><path d="M256.2,339.973 C268.68,355.223 283.74,373.073 298,388.583 C318.95,411.363 343.45,435.683 363.73,455.223 " fill="none" id="本机host-to-本机DNS解析器" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="367.46,458.813,363.7399,449.6938,363.8539,455.3495,358.1982,455.4635,367.46,458.813" style="stroke:#808080;stroke-width:1.0;"/><text fill="#4B0082" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="299" y="385.481">没有映射</text><!--MD5=[bcc313b8a2b8713bfa2fa5a0812842cb]
reverse link 成功访问域名 to 本机DNS解析器--><path d="M395.82,335.003 C383.83,344.413 372.73,355.963 366,369.583 C351.8,398.313 365.21,433.323 380.05,458.893 " fill="none" id="成功访问域名-backto-本机DNS解析器" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="399.92,331.893,390.334,334.1532,395.9389,334.9181,395.1741,340.523,399.92,331.893" style="stroke:#808080;stroke-width:1.0;"/><text fill="#4B0082" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="367" y="385.481">有缓存</text><!--MD5=[cdb8cd5e33ba4c0572955d52adb33125]
link 成功访问域名 to 本机DNS解析器--><path d="M444.41,331.733 C436.67,363.633 423.75,416.853 414.82,453.623 " fill="none" id="成功访问域名-to-本机DNS解析器" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="413.54,458.923,419.5334,451.1077,414.709,454.0616,411.7551,449.2372,413.54,458.923" style="stroke:#808080;stroke-width:1.0;"/><text fill="#4B0082" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="435" y="385.481">缓存更新</text><!--MD5=[bd00ff3ebcdfb1febf0bfcf6de78e25e]
link 本机DNS解析器 to *end*UserClient--><path d="M425.2,531.373 C444.83,565.663 473.56,615.873 486.81,639.033 " fill="none" id="本机DNS解析器-to-*end*UserClient" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="489.4,643.543,488.3869,633.7464,486.9101,639.2071,481.4494,637.7303,489.4,643.543" style="stroke:#808080;stroke-width:1.0;"/><!--MD5=[c80ebfdf1b2795cfc8b758284b5a0b43]
link 本机DNS解析器 to 本地DNS--><path d="M472.2,495.083 C498.5,495.083 528.67,495.083 555.21,495.083 " fill="none" id="本机DNS解析器-to-本地DNS" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="560.47,495.083,551.47,491.083,555.47,495.083,551.47,499.083,560.47,495.083" style="stroke:#808080;stroke-width:1.0;"/><text fill="#4B0082" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="490.25" y="488.981">没有缓存</text><!--MD5=[35e0c75024cd78241aa18ee4bb1bb61e]
link 本地DNS to 根域名服务器--><path d="M689.51,495.083 C715.95,495.083 746.54,495.083 773.21,495.083 " fill="none" id="本地DNS-to-根域名服务器" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="778.49,495.083,769.49,491.083,773.49,495.083,769.49,499.083,778.49,495.083" style="stroke:#808080;stroke-width:1.0;"/><text fill="#4B0082" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="708" y="488.981">没有解析</text><!--MD5=[23fab690917ff877909592e07ee309c0]
reverse link 成功访问域名 to 本地DNS--><path d="M479.51,335.633 C513.06,372.173 568.22,432.253 600.12,466.983 " fill="none" id="成功访问域名-backto-本地DNS" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="475.93,331.733,479.0727,341.067,479.3125,335.4152,484.9643,335.655,475.93,331.733" style="stroke:#808080;stroke-width:1.0;"/><text fill="#4B0082" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="528" y="385.481">有解析</text><!--MD5=[1469e39856663799e6e29a2e1e3a5ceb]
link 根域名服务器 to 顶级域名服务器--><path d="M836.34,547.863 C835.07,565.713 833.67,585.633 832.42,603.213 " fill="none" id="根域名服务器-to-顶级域名服务器" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="832.04,608.583,836.6728,599.8918,832.3973,603.5958,828.6933,599.3202,832.04,608.583" style="stroke:#808080;stroke-width:1.0;"/><!--MD5=[ffe9001ff49e6b7a0a95ad78887ec8d4]
link 顶级域名服务器 to 域名服务器--><path d="M787.5,696.903 C770.62,714.503 750.92,735.063 733.03,753.743 " fill="none" id="顶级域名服务器-to-域名服务器" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="729.47,757.453,738.5816,753.7141,732.9261,753.8398,732.8004,748.1843,729.47,757.453" style="stroke:#808080;stroke-width:1.0;"/><!--MD5=[b26427a9299fd4e907c5170895a3ecc0]
link 域名服务器 to 本地DNS--><path d="M670.81,757.563 C667.4,738.413 663.51,716.513 660,696.583 C649.56,637.303 637.51,568.133 630.62,528.483 " fill="none" id="域名服务器-to-本地DNS" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="629.73,523.333,627.3312,532.8853,630.5867,528.2591,635.2129,531.5145,629.73,523.333" style="stroke:#808080;stroke-width:1.0;"/><text fill="#4B0082" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="661" y="658.981">获取结果并缓存</text><!--MD5=[0af140a4af828df2f1d15c268b648d0a]
@startuml
title 域名解析流程图
skinparam state {
  StartColor MediumBlue
  EndColor Red
  BorderColor Gray
  ArrowColor Gray
  ArrowFontColor Indigo
  BackgroundColor<<Request>> AliceBlue
  BackgroundColor<<Answer>> HotPink
}

state UserClient {
    [*] - -> 请求访问域名
    请求访问域名 - -> 本机host
    本机host -right-> 成功访问域名 : 有映射
    本机host - -> 本机DNS解析器 : 没有映射
    本机DNS解析器 -up-> 成功访问域名 : 有缓存
    成功访问域名 - -> 本机DNS解析器 : 缓存更新
    本机DNS解析器 - -> [*]
    note left : 本图展示正常解析流程n未成功访问域名不能结束n（最左支路径无效）
    
    state 请求访问域名 : ephen.me.
    state 请求访问域名<<Request>>
    state 本机host : Windows 目录：
    state 本机host : C:WindowsSystem32driversetc
    state 成功访问域名 : ephen.me.
    state 成功访问域名<<Answer>>
    state 本机DNS解析器 : Windows 查看命令：
    state 本机DNS解析器 : ipconfig /displaydns
}

state DNSServer {
    本机DNS解析器 -right-> 本地DNS : 没有缓存
    本地DNS -right-> 根域名服务器 : 没有解析
    本地DNS -left-> 成功访问域名 : 有解析
    根域名服务器 - -> 顶级域名服务器
    顶级域名服务器 - -> 域名服务器
    域名服务器 - -> 本地DNS : 获取结果并缓存

    state 本地DNS : 用户配置（8.8.8.8）
    state 根域名服务器 : a.root-servers.net.
    state 根域名服务器 : b.root-servers.net.
    state 根域名服务器 : ...
    state 根域名服务器 : m.root-servers.net.
    state 顶级域名服务器 : a0.nic.me.
    state 顶级域名服务器 : b0.nic.me.
    state 顶级域名服务器 : ...
    state 域名服务器 : lv3ns1.ffdns.net.
    state 域名服务器 : lv3ns2.ffdns.net.
    state 域名服务器 : lv3ns3.ffdns.net.
    state 域名服务器 : lv3ns4.ffdns.net.
}
@enduml

PlantUML version 1.2022.0(Wed Jan 12 00:16:42 CST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>